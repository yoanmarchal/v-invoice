(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.VInvoice={},r.Vue))})(this,(function(r,e){"use strict";const a=(o,n)=>{const t=o.__vccOpts||o;for(const[l,s]of n)t[l]=s;return t},h={name:"invoice__header__from",props:["from"]},k={class:"flex-1"},u=["src"];function $(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("div",k,[t.from.logo!==null?(e.openBlock(),e.createElementBlock("img",{key:0,src:t.from.logo,class:"img-fluid"},null,8,u)):e.createCommentVNode("",!0),e.createElementVNode("p",null,[e.createElementVNode("strong",null,e.toDisplayString(t.from.title),1)]),e.createElementVNode("address",null,[e.createElementVNode("p",null,e.toDisplayString(t.from.road),1),e.createElementVNode("span",null,e.toDisplayString(t.from.poststalcode),1),e.createElementVNode("span",null,e.toDisplayString(t.from.city),1)]),e.createElementVNode("p",null,"SIRET : "+e.toDisplayString(t.from.siret),1)])}const m=a(h,[["render",$]]),B=o=>new Date(o).toLocaleDateString(["fr-FR"],{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=o=>o+" €";function i(){return{currency:T,date:B}}const x={name:"Invoice__header__infos",props:["devis","to"],setup(){return{filters:i()}}};function I(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("p",null,[n[0]||(n[0]=e.createElementVNode("span",null,"Facture ",-1)),n[1]||(n[1]=e.createElementVNode("span",null,"N°",-1)),e.createElementVNode("span",null,"FC"+e.toDisplayString(t.devis.id),1)]),e.createElementVNode("p",null,[n[2]||(n[2]=e.createElementVNode("span",null,"Date: ",-1)),e.createElementVNode("span",null,e.toDisplayString(l.filters.date(t.devis.date)),1)]),e.createElementVNode("p",null,[n[3]||(n[3]=e.createElementVNode("span",null,"Code Client: ",-1)),n[4]||(n[4]=e.createElementVNode("span",null,"CL",-1)),e.createElementVNode("span",null,e.toDisplayString(t.to.id),1)])])}const _=a(x,[["render",I]]),C={name:"Invoice__header",props:["devis","from","to"],components:{From:m,Infos:_}},F={class:"flex mb-5 py-2"};function P(o,n,t,l,s,c){const d=e.resolveComponent("From"),g=e.resolveComponent("Infos");return e.openBlock(),e.createElementBlock("div",F,[e.createVNode(d,{from:t.from},null,8,["from"]),e.createVNode(g,{devis:t.devis,to:t.to,from:t.from},null,8,["devis","to","from"])])}const f=a(C,[["render",P]]),L={name:"invoice__footer",props:["content"]};function j(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("p",null,[e.createElementVNode("small",null,e.toDisplayString(t.content),1)])}const p=a(L,[["render",j]]),M={name:"invoice__to",props:["to"]},q={class:"flex justify-end mb-5"};function w(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("div",q,[e.createElementVNode("div",null,[e.createElementVNode("strong",null,e.toDisplayString(t.to.title),1),e.createElementVNode("address",null,[e.createElementVNode("p",null,e.toDisplayString(t.to.road),1),e.createElementVNode("span",null,e.toDisplayString(t.to.postalcode),1),e.createElementVNode("span",null,e.toDisplayString(t.to.city),1)])])])}const y=a(M,[["render",w]]),H={name:"invoice__title",props:["title"]},O={class:"mb-5"};function R(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("h1",O,e.toDisplayString(t.title),1)}const E=a(H,[["render",R]]),z={name:"invoice__paymentmode",props:["paymentmode"]},Q={class:"mb-5"};function A(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("p",Q,"Mode de paiement : "+e.toDisplayString(t.paymentmode),1)}const N=a(z,[["render",A]]),G={props:["products"],setup(){return{filters:i()}}},J={class:"table w-full text-right mb-5"},K={class:"py-1"},U={class:"py-1"},W={class:"py-1"},X={class:"py-1"},Y={class:"py-1"};function Z(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("table",J,[n[0]||(n[0]=e.createElementVNode("thead",{class:"border-black border-b"},[e.createElementVNode("tr",null,[e.createElementVNode("th",{class:"py-1"},"Ref"),e.createElementVNode("th",{class:"py-1"},"Description"),e.createElementVNode("th",{class:"py-1"},"Quantité"),e.createElementVNode("th",{class:"py-1"},"Prix"),e.createElementVNode("th",{class:"py-1"},"Total")])],-1)),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.products,d=>(e.openBlock(),e.createElementBlock("tr",{key:d.id},[e.createElementVNode("td",K,e.toDisplayString(d.id),1),e.createElementVNode("td",U,e.toDisplayString(d.title),1),e.createElementVNode("td",W,e.toDisplayString(d.quantity),1),e.createElementVNode("td",X,e.toDisplayString(l.filters.currency(d.price)),1),e.createElementVNode("td",Y,e.toDisplayString(l.filters.currency(d.price*d.quantity)),1)]))),128))])])}const V=a(G,[["render",Z]]),v={name:"Invoice__subtable",props:["devis","LegalInfos","products"],setup(){return{filters:i()}},computed:{total(){return this.products.map(o=>o.price*o.quantity).reduce((o,n)=>o+n)},toPay(){return this.total-this.devis.alreadypaid}}},ee={class:"flex mb-5"},te={class:"flex-1"},ne={class:"flex-1"},oe={class:"table w-full text-right"};function le(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("div",ee,[e.createElementVNode("div",te,e.toDisplayString(t.LegalInfos),1),e.createElementVNode("div",ne,[e.createElementVNode("table",oe,[e.createElementVNode("tbody",null,[e.createElementVNode("tr",null,[n[0]||(n[0]=e.createElementVNode("td",null,"Total",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.total)),1)]),e.createElementVNode("tr",null,[n[1]||(n[1]=e.createElementVNode("td",null,"Déjà réglé",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(t.devis.alreadypaid)),1)]),e.createElementVNode("tr",null,[n[2]||(n[2]=e.createElementVNode("td",null,"Net à payer",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.toPay)),1)])])])])])}const re={name:"Invoice",components:{Header:f,Footer:p,To:y,Title:E,PaymentMode:N,TableProducts:V,SubTable:a(v,[["render",le]])},props:["devis","config","products","from","to"],computed:{title(){return this.config.title}}},ce={class:"container mx-auto"};function se(o,n,t,l,s,c){const d=e.resolveComponent("Header"),g=e.resolveComponent("To"),ye=e.resolveComponent("Title"),Ee=e.resolveComponent("PaymentMode"),Ne=e.resolveComponent("TableProducts"),Ve=e.resolveComponent("SubTable"),ge=e.resolveComponent("Footer");return e.openBlock(),e.createElementBlock("div",ce,[e.createVNode(d,{devis:t.devis,from:t.from,to:t.to},null,8,["devis","from","to"]),e.createVNode(g,{to:t.to},null,8,["to"]),e.createVNode(ye,{title:c.title},null,8,["title"]),e.createVNode(Ee,{paymentmode:t.config.title},null,8,["paymentmode"]),e.createVNode(Ne,{products:t.products},null,8,["products"]),e.createVNode(Ve,{devis:t.devis,products:t.products,LegalInfos:t.config.LegalInfos},null,8,["devis","products","LegalInfos"]),e.createVNode(ge,{content:t.config.footerContent},null,8,["content"])])}const b=a(re,[["render",se]]),ae={props:["devis","LegalInfos"],setup(){return{filters:i()}},computed:{total(){return this.devis.products.map(o=>o.price*o.quantity).reduce((o,n)=>o+n)},toPay(){return this.total-this.devis.alreadypaid}}},de={class:"flex mb-5"},ie={class:"flex-1"},me={class:"flex-1"},_e={class:"table w-full text-right"};function fe(o,n,t,l,s,c){return e.openBlock(),e.createElementBlock("div",de,[e.createElementVNode("div",ie,e.toDisplayString(t.LegalInfos),1),e.createElementVNode("div",me,[e.createElementVNode("table",_e,[e.createElementVNode("tbody",null,[e.createElementVNode("tr",null,[n[0]||(n[0]=e.createElementVNode("td",null,"Total",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.total)),1)]),e.createElementVNode("tr",null,[n[1]||(n[1]=e.createElementVNode("td",null,"Déjà réglé",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(t.devis.alreadypaid)),1)]),e.createElementVNode("tr",null,[n[2]||(n[2]=e.createElementVNode("td",null,"Net à payer",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.toPay)),1)])])])])])}const S=a(ae,[["render",fe]]),D=Object.freeze(Object.defineProperty({__proto__:null,Footer:p,From:m,Header:f,Infos:_,Invoice:b,PaymentMode:N,TableProducts:V,Title:E,To:y,TotalTable:S},Symbol.toStringTag,{value:"Module"})),pe=(o,n={})=>{for(const t in D){const l=n.prefix?n.prefix+t:t;o.component(l,D[t])}};r.Footer=p,r.From=m,r.Header=f,r.Infos=_,r.Invoice=b,r.PaymentMode=N,r.TableProducts=V,r.Title=E,r.To=y,r.TotalTable=S,r.install=pe,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
