(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.VInvoice={},r.Vue))})(this,(function(r,e){"use strict";const a=(n,o)=>{const t=n.__vccOpts||n;for(const[l,s]of o)t[l]=s;return t},h={name:"Invoice__header",props:["devis","from","to"],components:{From:()=>Promise.resolve().then(()=>F),Infos:()=>Promise.resolve().then(()=>Q)}},T={class:"flex mb-5 py-2"};function $(n,o,t,l,s,c){const d=e.resolveComponent("From"),V=e.resolveComponent("Infos");return e.openBlock(),e.createElementBlock("div",T,[e.createVNode(d,{from:t.from},null,8,["from"]),e.createVNode(V,{devis:t.devis,to:t.to,from:t.from},null,8,["devis","to","from"])])}const m=a(h,[["render",$]]),P=Object.freeze(Object.defineProperty({__proto__:null,default:m},Symbol.toStringTag,{value:"Module"})),D={name:"Invoice",components:{Header:()=>Promise.resolve().then(()=>P),Footer:()=>Promise.resolve().then(()=>ye),To:()=>Promise.resolve().then(()=>L),Title:()=>Promise.resolve().then(()=>K),PaymentMode:()=>Promise.resolve().then(()=>Y),TableProducts:()=>Promise.resolve().then(()=>ce),SubTable:()=>Promise.resolve().then(()=>he)},props:["devis","config","products","from","to"],computed:{title(){return this.config.title}}},k={class:"container mx-auto"};function B(n,o,t,l,s,c){const d=e.resolveComponent("Header"),V=e.resolveComponent("To"),Te=e.resolveComponent("Title"),$e=e.resolveComponent("PaymentMode"),Pe=e.resolveComponent("TableProducts"),De=e.resolveComponent("SubTable"),ke=e.resolveComponent("Footer");return e.openBlock(),e.createElementBlock("div",k,[e.createVNode(d,{devis:t.devis,from:t.from,to:t.to},null,8,["devis","from","to"]),e.createVNode(V,{to:t.to},null,8,["to"]),e.createVNode(Te,{title:c.title},null,8,["title"]),e.createVNode($e,{paymentmode:t.config.title},null,8,["paymentmode"]),e.createVNode(Pe,{products:t.products},null,8,["products"]),e.createVNode(De,{devis:t.devis,products:t.products,LegalInfos:t.config.LegalInfos},null,8,["devis","products","LegalInfos"]),e.createVNode(ke,{content:t.config.footerContent},null,8,["content"])])}const b=a(D,[["render",B]]),j={name:"invoice__header__from",props:["from"]},O={class:"flex-1"},I=["src"];function x(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("div",O,[t.from.logo!==null?(e.openBlock(),e.createElementBlock("img",{key:0,src:t.from.logo,class:"img-fluid"},null,8,I)):e.createCommentVNode("",!0),e.createElementVNode("p",null,[e.createElementVNode("strong",null,e.toDisplayString(t.from.title),1)]),e.createElementVNode("address",null,[e.createElementVNode("p",null,e.toDisplayString(t.from.road),1),e.createElementVNode("span",null,e.toDisplayString(t.from.poststalcode),1),e.createElementVNode("span",null,e.toDisplayString(t.from.city),1)]),e.createElementVNode("p",null,"SIRET : "+e.toDisplayString(t.from.siret),1)])}const _=a(j,[["render",x]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),M={name:"invoice__to",props:["to"]},C={class:"flex justify-end mb-5"};function z(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("div",C,[e.createElementVNode("div",null,[e.createElementVNode("strong",null,e.toDisplayString(t.to.title),1),e.createElementVNode("address",null,[e.createElementVNode("p",null,e.toDisplayString(t.to.road),1),e.createElementVNode("span",null,e.toDisplayString(t.to.postalcode),1),e.createElementVNode("span",null,e.toDisplayString(t.to.city),1)])])])}const f=a(M,[["render",z]]),L=Object.freeze(Object.defineProperty({__proto__:null,default:f},Symbol.toStringTag,{value:"Module"})),H=n=>new Date(n).toLocaleDateString(["fr-FR"],{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=n=>n+" €";function i(){return{currency:q,date:H}}const w={name:"Invoice__header__infos",props:["devis","to"],setup(){return{filters:i()}}};function R(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("p",null,[o[0]||(o[0]=e.createElementVNode("span",null,"Facture ",-1)),o[1]||(o[1]=e.createElementVNode("span",null,"N°",-1)),e.createElementVNode("span",null,"FC"+e.toDisplayString(t.devis.id),1)]),e.createElementVNode("p",null,[o[2]||(o[2]=e.createElementVNode("span",null,"Date: ",-1)),e.createElementVNode("span",null,e.toDisplayString(l.filters.date(t.devis.date)),1)]),e.createElementVNode("p",null,[o[3]||(o[3]=e.createElementVNode("span",null,"Code Client: ",-1)),o[4]||(o[4]=e.createElementVNode("span",null,"CL",-1)),e.createElementVNode("span",null,e.toDisplayString(t.to.id),1)])])}const p=a(w,[["render",R]]),Q=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"})),A={name:"invoice__title",props:["title"]},G={class:"mb-5"};function J(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("h1",G,e.toDisplayString(t.title),1)}const y=a(A,[["render",J]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"})),U={name:"invoice__paymentmode",props:["paymentmode"]},W={class:"mb-5"};function X(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("p",W,"Mode de paiement : "+e.toDisplayString(t.paymentmode),1)}const E=a(U,[["render",X]]),Y=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),Z={props:["products"],setup(){return{filters:i()}}},v={class:"table w-full text-right mb-5"},ee={class:"py-1"},te={class:"py-1"},oe={class:"py-1"},ne={class:"py-1"},le={class:"py-1"};function re(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("table",v,[o[0]||(o[0]=e.createElementVNode("thead",{class:"border-black border-b"},[e.createElementVNode("tr",null,[e.createElementVNode("th",{class:"py-1"},"Ref"),e.createElementVNode("th",{class:"py-1"},"Description"),e.createElementVNode("th",{class:"py-1"},"Quantité"),e.createElementVNode("th",{class:"py-1"},"Prix"),e.createElementVNode("th",{class:"py-1"},"Total")])],-1)),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.products,d=>(e.openBlock(),e.createElementBlock("tr",{key:d.id},[e.createElementVNode("td",ee,e.toDisplayString(d.id),1),e.createElementVNode("td",te,e.toDisplayString(d.title),1),e.createElementVNode("td",oe,e.toDisplayString(d.quantity),1),e.createElementVNode("td",ne,e.toDisplayString(l.filters.currency(d.price)),1),e.createElementVNode("td",le,e.toDisplayString(l.filters.currency(d.price*d.quantity)),1)]))),128))])])}const g=a(Z,[["render",re]]),ce=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"})),se={props:["devis","LegalInfos"],setup(){return{filters:i()}},computed:{total(){return this.devis.products.map(n=>n.price*n.quantity).reduce((n,o)=>n+o)},toPay(){return this.total-this.devis.alreadypaid}}},ae={class:"flex mb-5"},de={class:"flex-1"},ie={class:"flex-1"},me={class:"table w-full text-right"};function _e(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("div",ae,[e.createElementVNode("div",de,e.toDisplayString(t.LegalInfos),1),e.createElementVNode("div",ie,[e.createElementVNode("table",me,[e.createElementVNode("tbody",null,[e.createElementVNode("tr",null,[o[0]||(o[0]=e.createElementVNode("td",null,"Total",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.total)),1)]),e.createElementVNode("tr",null,[o[1]||(o[1]=e.createElementVNode("td",null,"Déjà réglé",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(t.devis.alreadypaid)),1)]),e.createElementVNode("tr",null,[o[2]||(o[2]=e.createElementVNode("td",null,"Net à payer",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.toPay)),1)])])])])])}const u=a(se,[["render",_e]]),fe={name:"invoice__footer",props:["content"]};function pe(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("p",null,[e.createElementVNode("small",null,e.toDisplayString(t.content),1)])}const N=a(fe,[["render",pe]]),ye=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"})),S=Object.freeze(Object.defineProperty({__proto__:null,Footer:N,From:_,Header:m,Infos:p,Invoice:b,PaymentMode:E,TableProducts:g,Title:y,To:f,TotalTable:u},Symbol.toStringTag,{value:"Module"})),Ee=(n,o={})=>{for(const t in S){const l=o.prefix?o.prefix+t:t;n.component(l,S[t])}},ge={name:"Invoice__subtable",props:["devis","LegalInfos","products"],setup(){return{filters:i()}},computed:{total(){return this.products.map(n=>n.price*n.quantity).reduce((n,o)=>n+o)},toPay(){return this.total-this.devis.alreadypaid}}},Ne={class:"flex mb-5"},Ve={class:"flex-1"},be={class:"flex-1"},ue={class:"table w-full text-right"};function Se(n,o,t,l,s,c){return e.openBlock(),e.createElementBlock("div",Ne,[e.createElementVNode("div",Ve,e.toDisplayString(t.LegalInfos),1),e.createElementVNode("div",be,[e.createElementVNode("table",ue,[e.createElementVNode("tbody",null,[e.createElementVNode("tr",null,[o[0]||(o[0]=e.createElementVNode("td",null,"Total",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.total)),1)]),e.createElementVNode("tr",null,[o[1]||(o[1]=e.createElementVNode("td",null,"Déjà réglé",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(t.devis.alreadypaid)),1)]),e.createElementVNode("tr",null,[o[2]||(o[2]=e.createElementVNode("td",null,"Net à payer",-1)),e.createElementVNode("td",null,e.toDisplayString(l.filters.currency(c.toPay)),1)])])])])])}const he=Object.freeze(Object.defineProperty({__proto__:null,default:a(ge,[["render",Se]])},Symbol.toStringTag,{value:"Module"}));r.Footer=N,r.From=_,r.Header=m,r.Infos=p,r.Invoice=b,r.PaymentMode=E,r.TableProducts=g,r.Title=y,r.To=f,r.TotalTable=u,r.install=Ee,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
